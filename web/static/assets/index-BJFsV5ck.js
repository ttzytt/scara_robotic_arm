(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const l=location.protocol==="https:"?"wss:":"ws:",r=new WebSocket(`${l}//${location.host}/ws`);r.onopen=()=>console.log("✓ WebSocket connected");r.onmessage=o=>console.log("⇠ From Pi:",o.data);r.onclose=()=>console.log("✕ WebSocket disconnected");let i=null;window.addEventListener("gamepadconnected",o=>{i=o.gamepad.index,console.log("✓ Gamepad connected:",o.gamepad.id)});window.addEventListener("gamepaddisconnected",()=>{console.log("❌ Gamepad disconnected"),i=null});function a(){if(i!==null&&r.readyState===WebSocket.OPEN){const o=navigator.getGamepads()[i];if(o){const n={id:o.id,index:o.index,timestamp:o.timestamp,connected:o.connected,mapping:o.mapping,axes:Array.from(o.axes),buttons:o.buttons.map((s,c)=>({index:c,pressed:s.pressed,value:s.value,touched:s.touched}))};r.send(JSON.stringify(n))}}requestAnimationFrame(a)}requestAnimationFrame(a);
